<div class="bg-white rounded-lg p-6 shadow-md h-full">
  <div class="flex justify-between items-center mb-6">
    <button 
      class="bg-gray-100 hover:bg-gray-200 border-0 rounded-md p-2 cursor-pointer text-gray-600 transition-all flex items-center justify-center"
      (click)="previousMonth()" 
      aria-label="Previous month">
      <svg width="20" height="20" viewBox="0 0 20 20" fill="none" stroke="currentColor">
        <path d="M12 4l-6 6 6 6" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
      </svg>
    </button>
    
    <div class="flex flex-col items-center gap-2">
      <h2 class="m-0 text-2xl font-semibold text-gray-800">{{ currentMonthLabel() }}</h2>
      <button 
        class="bg-gradient-to-br from-blue-300 to-purple-300 hover:bg-blue-700 text-white border-0 rounded px-3 py-1 text-sm cursor-pointer transition-colors"
        (click)="goToToday()">
        Today
      </button>
    </div>
    
    <button 
      class="bg-gray-100 hover:bg-gray-200 border-0 rounded-md p-2 cursor-pointer text-gray-600 transition-all flex items-center justify-center"
      (click)="nextMonth()" 
      aria-label="Next month">
      <svg width="20" height="20" viewBox="0 0 20 20" fill="none" stroke="currentColor">
        <path d="M8 4l6 6-6 6" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
      </svg>
    </button>
  </div>

  <div class="grid grid-cols-7 gap-2">
    <!-- Days of week header -->
    @for (day of weekDays; track day) {
      <div class="p-3 text-center font-semibold text-sm text-gray-500 uppercase">{{ day }}</div>
    }

    <!-- Calendar days -->
    @for (day of calendarDays(); track day.date.getTime()) {
      <div
        class="aspect-square p-2 border rounded-md cursor-pointer transition-all flex flex-col items-center justify-start relative"
        [class.text-gray-300]="!day.isCurrentMonth"
        [class.bg-gray-100]="!day.isCurrentMonth"
        [class.bg-blue-50]="day.isToday && !day.isSelected"
        [class.border-blue-500]="day.isToday && !day.isSelected"
        [class.font-semibold]="day.isToday"
        [class.bg-gradient-to-br]="day.isSelected"
        [class.from-blue-300]="day.isSelected"
        [class.to-purple-300]="day.isSelected"
        [class.text-white]="day.isSelected"
        [class.border-blue-500]="day.isSelected"
        [class.border-gray-200]="!day.isToday && !day.isSelected"
        [class.bg-white]="!day.isToday && !day.isSelected && day.isCurrentMonth"
        [class.hover:bg-gray-50]="!day.isSelected"
        [class.hover:border-blue-500]="!day.isSelected"
        (click)="selectDate(day.date)"
      >
        <span class="text-sm">{{ day.date.getDate() }}</span>
        @if (day.eventCount > 0) {
          <span 
            class="absolute bottom-1 left-1/2 -translate-x-1/2 bg-red-500 text-white rounded-full px-1.5 py-0.5 text-xs font-semibold min-w-[22px] text-center leading-none">
            {{ day.eventCount > 99 ? '99+' : day.eventCount }}
          </span>
        }
      </div>
    }
  </div>
</div>

